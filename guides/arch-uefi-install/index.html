<!doctype html><html lang=en><head><title>Arch UEFI Install | FelipeFa6 Page</title><link rel=canonical href=https://felipefa6.github.io/><link rel=alternate type=application/rss+xml title="FelipeFa6 Page RSS" href=/index.xml><link rel=stylesheet type=text/css href=/style.css><link rel=icon href="/favicon.ico?v=2"><meta name=description content="Go Back&mldr;
Should be connected to the internet via cable, for wifi refer to the arch wiki.
Sync time protocol $ timedatectl set-ntp true Partitions Get disks $ lsblk Enter your hardware storage $ fdisk /dev/sdx For this tutorial I will be doing 2 partitions.
200MB UEFI partition EFI System (press t and then 1 for EFI) Full storage Remaining size. Format partitions EFI Partition $ mkfs.fat -F32 /dev/sdx $ mkfs."><meta name=keywords content="arch,guide"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="index, follow"><meta charset=utf-8></head><body><div id=header><a id=headerLink href=/>felipefarias.xyz</a>
<span class=hidden>-</span>
<span id=headerSubtitle>Software Developer</span></div><hr class=hidden><div id=menu><a href=/><b>home</b></a>
<a href=/guides>guides</a>
<a href=/proyects>proyects</a>
<a href="https://drive.google.com/file/d/1Sy4ZiIKUjQOMD-ts_mPHSNMXgD6ge5QT/view?usp=sharing">resume</a>
<a href=https://github.com/felipefa6/>GitHub</a></div><main><header><h1>Arch UEFI Install</h1></header><article><p><a href=/guides>Go Back&mldr;</a></p><p>Should be connected to the internet via cable, for wifi refer to the arch wiki.</p><h1 id=sync-time-protocol>Sync time protocol</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ timedatectl set-ntp true
</span></span></code></pre></div><h1 id=partitions-get-disks>Partitions Get disks</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ lsblk
</span></span></code></pre></div><h1 id=enter-your-hardware-storage>Enter your hardware storage</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ fdisk /dev/sdx
</span></span></code></pre></div><p>For this tutorial I will be doing 2 partitions.</p><ul><li>200MB UEFI partition</li><li>EFI System (press t and then 1 for EFI) Full storage</li><li>Remaining size.</li></ul><h1 id=format-partitions-efi-partition>Format partitions EFI Partition</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ mkfs.fat -F32 /dev/sdx
</span></span><span style=display:flex><span>$ mkfs.ext4 /dev/sdx
</span></span></code></pre></div><h1 id=mount-of-partitions>Mount of partitions</h1><p>Storage partition</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ mount /dev/sdx /mnt
</span></span></code></pre></div><h1 id=efi-partition>EFI partition</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ mkdir /mnt/boot/
</span></span><span style=display:flex><span>$ mount /dev/sdx /mnt/boot
</span></span></code></pre></div><h1 id=installing-base-system>Installing base system</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ pacstrap /mnt base base-devel linux-lts linux-firmware vim git
</span></span></code></pre></div><p>For WiFi Internet add:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>dhpcd iwd
</span></span></code></pre></div><p>For Wired Internet add:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>networkmanager
</span></span></code></pre></div><h1 id=generate-fstab>Generate FSTAB</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
</span></span></code></pre></div><h1 id=change-installation-medium>Change installation medium</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ arch-chroot /mnt
</span></span></code></pre></div><h1 id=create-swap-file>Create SWAP file.</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ fallocate -l 2GB /swapfile
</span></span><span style=display:flex><span>$ chmod <span style=color:#ae81ff>600</span> /swapfile
</span></span><span style=display:flex><span>$ mkswap /swapfile
</span></span><span style=display:flex><span>$ swapon /swapfile
</span></span></code></pre></div><h1 id=add-swapfile-to-fstab>Add SWAPFILE to FSTAB</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ echo <span style=color:#e6db74>&#34;/swapfile none swap defaults 0 0&#34;</span> &gt;&gt; /etc/fstab
</span></span></code></pre></div><h1 id=timezone>Timezone</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ ln -sf /usr/share/zoneinfo/Chile/Continental /etc/localtime
</span></span><span style=display:flex><span>$ hwclock --systohc
</span></span></code></pre></div><h1 id=change-etclocalegen>Change /etc/locale.gen</h1><p>Use a text editor to edit this file and search for your use case.
This is used to use your local standards (More info <a href=https://wiki.archlinux.org/title/Locale>here</a>)</p><p>In my case, I&rsquo;ll use a shortcut.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ echo <span style=color:#e6db74>&#34;en_US.UTF-8 UTF-8&#34;</span> &gt;&gt; /etc/locale.gen
</span></span></code></pre></div><h1 id=generate-the-locale>Generate the locale</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ locale-gen
</span></span></code></pre></div><h1 id=edit-localeconf>Edit locale.conf</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ vim /etc/locale.conf
</span></span></code></pre></div><h1 id=add-hostname>Add hostname</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ echo <span style=color:#e6db74>&#34;yourHostName&#34;</span> &gt;&gt; /etc/hostname
</span></span></code></pre></div><h1 id=edit-etchosts>Edit /etc/hosts</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>127.0.0.1   localhost
</span></span><span style=display:flex><span>::1         localhost
</span></span></code></pre></div><h1 id=secure-your-root-user>Secure your root user</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ passwd
</span></span></code></pre></div><h1 id=set-grub-boot-loader>Set grub (boot loader)</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e>#Download GRUB and EFIBOOTMGR</span>
</span></span><span style=display:flex><span>$ pacman -S grub efibootmgr
</span></span><span style=display:flex><span>$ grub-install --target<span style=color:#f92672>=</span>x86_64-efi --efi-directory<span style=color:#f92672>=</span>/boot --bootloader-id<span style=color:#f92672>=</span>GRUB
</span></span><span style=display:flex><span>$ grub-mkconfig -o /boot/grub/grub.cfg
</span></span></code></pre></div><h1 id=add-new-user>Add New User</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ useradd -mG wheel newUser
</span></span><span style=display:flex><span>$ passwd newUser
</span></span></code></pre></div><p>RESTART YOUR SYSTEM AND YOU ARE READY TO GO.</p><div style=clear:both class=taglist><a id=tag_arch href=https://felipefa6.github.io/tags/arch>Arch</a> &#183; <a id=tag_guide href=https://felipefa6.github.io/tags/guide>Guide</a></div></article></main><footer><a href=https://felipefa6.github.io/>https://felipefa6.github.io/</a><br><br><a href=/index.xml><img src=/rss.svg style=max-height:1.5em alt="RSS Feed" title="Subscribe via RSS for updates."></a></footer></body></html>